# new-session -n emacs 'emacs -nw'

set -g default-terminal "xterm-256color"
setw -g xterm-keys on
set -g status-bg colour111

bind C-d detach
bind C-e new 'exec emacs -nw'
bind e new 'exec emacsclient -c -nw'
bind r source-file ~/.tmux.conf

# use vim motion keys while in copy mode
setw -g mode-keys vi

# C-b as the default sequence? not much better than screen =(
set -g prefix C-z
unbind C-b
bind C-z send-prefix
bind-key S command-prompt -p ssh: "new-window -n %1 'ssh %1'"

# For multiuser:
# tmux -S /tmp/multi
# chmod 777 /tmp/multi
# tmux -S /tmp/multi attach # as the other user

set -g status-bg black
set -g status-fg green
set -g status-left-length 15
set -g status-left ' #[fg=cyan,bright]#10H#[fg=green]:#[fg=white]#S#[fg=green] | #[default]'
set -g status-right '| #[fg=yellow]%Y-%m-%d %H:%M '
# set -g status-right '| #[fg=yellow]%Y-%m-%d %H:%M #[fg=yellow]#(uptime | cut -d "," -f 2-)' #adds uptime and user load
set -g status-justify centre
setw -g window-status-current-fg cyan
setw -g window-status-current-attr bright

# users logged in and average load on right side
# set -g status-right '

# status bar
# set-option -g status-utf8 on
# set-option -g status-justify right
# set-option -g status-bg black
# set-option -g status-fg cyan
# set-option -g status-interval 5
# set-option -g status-left-length 30
# set-option -g status-left '#[fg=magenta]» #[fg=blue,bold]#T#[default]'
# set-option -g status-right '#[fg=cyan]»» #[fg=blue,bold]###S #[fg=magenta]%R %m-%d#(acpi | cut -d ',' -f 2)#[default]'
# set-option -g visual-activity on
# set-window-option -g monitor-activity on
# set-window-option -g window-status-current-fg white

# clock
# set-window-option -g clock-mode-colour cyan
# set-window-option -g clock-mode-style 24


bind C-p previous-window
bind C-n next-window
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R
bind < resize-pane -L 1
bind > resize-pane -R 1
bind-key -r C-h select-window -t :-
bind-key -r C-l select-window -t :+

# move tmux copy buffer into x clipboard
# bind-key C-y save-buffer /tmp/tmux-buffer \; run-shell "cat /tmp/tmux-buffer | xclip"
#
bind-key C-y paste-buffer -s \015

# switch to last active window
bind-key C-z last-window

# rebinding window splitting
unbind % # Remove default binding since we’re replacing
bind | split-window -h
bind - split-window -v

# Set window notifications
# setw -g monitor-activity on
# set -g visual-activity on

# Automatically set window title
# setw -g automatic-rename
